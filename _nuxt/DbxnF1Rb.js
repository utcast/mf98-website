import{y as f,r as T,c as i,z as b,o as n,a as s,b as H,t as a,e as y,i as C,g as N,F as m,f as _,v as x,x as g}from"./05CsvlYu.js";import{u as B}from"./BoKkRuob.js";const D=()=>({getKikaku:e=>K[e]||null}),K={kaiten:{title:"回転ショー",description:"身近な「回転」に隠された不思議を大公開！",color:"youtube",channel:"show",url:{name:"kaiten"},image:"/img/thumbnail/kaiten.png",title_short:"回転ショー"},hikari:{title:"光の箱",description:"光と色の不思議を楽しめるワークショップ！",color:"zoom",channel:"atelier",url:{name:"hikari"},image:"/img/thumbnail/hikari.png",title_short:"光の箱"},san_gen:{title:"三原色コップ",description:"三原色で色が混ざる仕組みを体感しよう！",color:"zoom",channel:"atelier",url:{name:"san_gen"},image:"/img/thumbnail/san_gen.png",title_short:"三原色コップ"},nenriki:{title:"念力振り子",description:"不思議な振り子の動きの秘密に迫る！",color:"zoom",channel:"atelier",url:{name:"nenriki"},image:"/img/thumbnail/nenriki.png",title_short:"念力振り子"}},R={1:{reserved:21,limit:25},2:{reserved:25,limit:25},3:{reserved:15,limit:25}},A=()=>({getTicketStatus:e=>R[e.toString()]||{reserved:0,limit:0}}),E=[{id:0,channel:"show",day:1,kikaku:"kaiten",startHour:10,startMin:0,endHour:10,endMin:45},{id:1,channel:"atelier",day:1,kikaku:"hikari",startHour:11,startMin:0,endHour:11,endMin:45},{id:2,channel:"atelier",day:1,kikaku:"san_gen",startHour:13,startMin:0,endHour:13,endMin:45},{id:3,channel:"atelier",day:1,kikaku:"nenriki",startHour:15,startMin:0,endHour:15,endMin:45}],V={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},F={class:"bg-white p-4 rounded w-96 relative"},O={class:"text-center mb-4"},U={class:"text-lg font-bold"},j={class:"text-sm text-gray-600"},L={key:0,class:"text-sm font-bold text-center text-gray-800"},P=f({__name:"ScheduleModal",props:{schedule:{}},setup(k){return(e,c)=>{const h=T("Icon");return e.schedule.kikakuInfo?(n(),i("div",V,[s("div",F,[s("button",{class:"absolute top-2 right-2 text-red-500",onClick:c[0]||(c[0]=u=>e.$emit("close"))},"✕"),s("div",O,[H(h,{icon:e.schedule.kikakuInfo.icon,class:"text-3xl mb-2"},null,8,["icon"]),s("h3",U,a(e.schedule.kikakuInfo.title),1),s("p",j,a(e.schedule.kikakuInfo.description),1)]),e.schedule.channel==="atelier"?(n(),i("div",L," 整理券: "+a(e.schedule.ticketStatus.reserved)+"/"+a(e.schedule.ticketStatus.limit)+"枚 ",1)):b("",!0)])])):b("",!0)}}}),W={class:"overflow-x-auto"},q={class:"min-w-[800px] overflow-y-auto border",style:{height:"800px"}},G={class:"grid",style:"grid-template-columns: 80px repeat(4, 1fr)"},J={class:"relative"},Q={class:"absolute top-0 text-xs text-right pr-2",style:{top:"-6px"}},X=["onClick"],Y={class:"font-bold"},Z={class:"text-[10px]"},d=8,v=15,M=18,tt=15,et=f({__name:"ScheduleTable",setup(k){const{getKikaku:e}=D(),{getTicketStatus:c}=A(),h=Array.from({length:M-d+1},(t,r)=>r+d),u=y(()=>E.map(t=>{const r=e(t.kikaku);return r?{...t,kikakuInfo:r,ticketStatus:c(t.id)}:null}).filter(t=>t!==null)),$=y(()=>[u.value.filter(t=>t.day===1&&t.channel==="show"),u.value.filter(t=>t.day===1&&t.channel==="atelier"),u.value.filter(t=>t.day===2&&t.channel==="show"),u.value.filter(t=>t.day===2&&t.channel==="atelier")]),S=t=>{const r=t.startHour*60+t.startMin,l=d*60+v;return r-l},w=t=>{const r=t.startHour*60+t.startMin;return t.endHour*60+t.endMin-r},p=C(null),I=t=>{p.value=t};return(t,r)=>(n(),i("div",W,[s("div",q,[s("div",G,[s("div",J,[(n(!0),i(m,null,_(x(h),l=>(n(),i("div",{key:l,class:"h-[60px] relative"},[s("div",Q,a(l)+":00 ",1)]))),128))]),(n(!0),i(m,null,_($.value,(l,z)=>(n(),i("div",{key:z,class:"relative border-l border-gray-300 bg-white"},[(n(!0),i(m,null,_(x(h),o=>(n(),i("div",{key:o,class:"absolute w-full border-t border-dotted border-gray-400 z-0",style:g(`top: ${o*60-d*60-v}px`)},null,4))),128)),s("div",{class:"absolute w-full border-t border-dotted border-gray-400 z-0",style:g(`top: ${M*60+tt-d*60-v}px`)},null,4),(n(!0),i(m,null,_(l,o=>(n(),i("div",{key:o.id,class:"absolute z-10 bg-blue-500 text-white text-xs rounded p-1 shadow hover:bg-blue-600 cursor-pointer",style:g(`top: ${S(o)}px; height: ${w(o)}px; left: 4px; right: 4px;`),onClick:st=>I(o)},[s("div",Y,a(o.kikakuInfo.title_short),1),s("div",Z,a(o.startHour)+":"+a(("0"+o.startMin).slice(-2))+" 〜 "+a(o.endHour)+":"+a(("0"+o.endMin).slice(-2)),1)],12,X))),128))]))),128))])]),p.value?(n(),N(P,{key:0,schedule:p.value,onClose:r[0]||(r[0]=l=>p.value=null)},null,8,["schedule"])):b("",!0)]))}}),nt={class:"container mx-auto px-4 py-6"},rt=f({__name:"schedule",setup(k){return B({title:"タイムスケジュール",meta:[{name:"description",content:"東京大学の学園祭「五月祭」の特設ページです！"},{property:"og:description",content:"東京大学の学園祭「五月祭」の特設ページです！"},{property:"og:url",content:"https://ut-cast.net/mayfes2025/schedule"}]}),(e,c)=>(n(),i("div",nt,[c[0]||(c[0]=s("h1",{class:"text-3xl font-bold text-center mb-4"},"タイムスケジュール",-1)),H(et)]))}});export{rt as default};
