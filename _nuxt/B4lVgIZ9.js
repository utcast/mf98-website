import{i as g,r as S,c as s,l as _,o as n,a as r,b,t as a,e as v,m as I,g as z,F as p,f as m,n as f,p as y}from"./DS_7QlkO.js";import{u as C}from"./BQnN3eu0.js";const T=()=>({getKikaku:e=>B[e]||null}),B={kaiten:{title:"回転ショー",description:"身近な「回転」に隠された不思議を大公開！",color:"youtube",channel:"show",url:{name:"kaiten"},image:"/img/thumbnail/kaiten.png",title_short:"回転ショー"},hikari:{title:"光の箱",description:"光と色の不思議を楽しめるワークショップ！",color:"zoom",channel:"atelier",url:{name:"hikari"},image:"/img/thumbnail/hikari.png",title_short:"光の箱"},san_gen:{title:"三原色コップ",description:"三原色で色が混ざる仕組みを体感しよう！",color:"zoom",channel:"atelier",url:{name:"san_gen"},image:"/img/thumbnail/san_gen.png",title_short:"三原色コップ"},nenriki:{title:"念力振り子",description:"不思議な振り子の動きの秘密に迫る！",color:"zoom",channel:"atelier",url:{name:"nenriki"},image:"/img/thumbnail/nenriki.png",title_short:"念力振り子"}},K={1:{reserved:21,limit:25},2:{reserved:25,limit:25},3:{reserved:15,limit:25}},N=()=>({getTicketStatus:e=>K[e.toString()]||{reserved:0,limit:0}}),V=[{id:0,channel:"show",day:1,kikaku:"kaiten",startHour:10,startMin:0,endHour:10,endMin:45},{id:1,channel:"atelier",day:1,kikaku:"hikari",startHour:11,startMin:0,endHour:11,endMin:45},{id:2,channel:"atelier",day:1,kikaku:"san_gen",startHour:13,startMin:0,endHour:13,endMin:45},{id:3,channel:"atelier",day:1,kikaku:"nenriki",startHour:15,startMin:0,endHour:15,endMin:45}],D={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},F={class:"bg-white p-4 rounded w-96 relative"},j={class:"text-center mb-4"},A={class:"text-lg font-bold"},E={class:"text-sm text-gray-600"},L={key:0,class:"text-sm font-bold text-center text-gray-800"},P=g({__name:"ScheduleModal",props:{schedule:{}},setup(d){return(e,l)=>{const k=S("Icon");return e.schedule.kikakuInfo?(n(),s("div",D,[r("div",F,[r("button",{class:"absolute top-2 right-2 text-red-500",onClick:l[0]||(l[0]=u=>e.$emit("close"))},"✕"),r("div",j,[b(k,{icon:e.schedule.kikakuInfo.icon,class:"text-3xl mb-2"},null,8,["icon"]),r("h3",A,a(e.schedule.kikakuInfo.title),1),r("p",E,a(e.schedule.kikakuInfo.description),1)]),e.schedule.channel==="atelier"?(n(),s("div",L," 整理券: "+a(e.schedule.ticketStatus.reserved)+"/"+a(e.schedule.ticketStatus.limit)+"枚 ",1)):_("",!0)])])):_("",!0)}}}),W={class:"overflow-x-auto"},q={class:"min-w-[800px] overflow-y-auto border",style:{height:"800px"}},G={class:"grid",style:"grid-template-columns: 80px repeat(4, 1fr)"},J={class:"relative"},O={class:"absolute top-0 text-xs text-right pr-2",style:{top:"-6px"}},Q=["onClick"],R={class:"font-bold"},U={class:"text-[10px]"},X=g({__name:"ScheduleTable",setup(d){const{getKikaku:e}=T(),{getTicketStatus:l}=N(),k=Array.from({length:9},(t,o)=>o+9),u=v(()=>V.map(t=>{const o=e(t.kikaku);return o?{...t,kikakuInfo:o,ticketStatus:l(t.id)}:null}).filter(t=>t!==null)),x=v(()=>[u.value.filter(t=>t.day===1&&t.channel==="show"),u.value.filter(t=>t.day===1&&t.channel==="atelier"),u.value.filter(t=>t.day===2&&t.channel==="show"),u.value.filter(t=>t.day===2&&t.channel==="atelier")]),$=t=>t.startHour*60+t.startMin-540,H=t=>{const o=t.startHour*60+t.startMin;return t.endHour*60+t.endMin-o},h=I(null),M=t=>{h.value=t};return(t,o)=>(n(),s("div",W,[r("div",q,[r("div",G,[r("div",J,[(n(!0),s(p,null,m(f(k),c=>(n(),s("div",{key:c,class:"h-[60px] relative"},[r("div",O,a(c)+":00 ",1)]))),128))]),(n(!0),s(p,null,m(x.value,(c,w)=>(n(),s("div",{key:w,class:"relative border-l border-gray-300 bg-white"},[(n(!0),s(p,null,m(f(k),i=>(n(),s("div",{key:i,class:"absolute w-full border-t border-dotted border-gray-400 z-0",style:y(`top: ${(i-9)*60}px`)},null,4))),128)),(n(!0),s(p,null,m(c,i=>(n(),s("div",{key:i.id,class:"absolute z-10 bg-blue-500 text-white text-xs rounded p-1 shadow hover:bg-blue-600 cursor-pointer",style:y(`top: ${$(i)}px; height: ${H(i)}px; left: 4px; right: 4px;`),onClick:Z=>M(i)},[r("div",R,a(i.kikakuInfo.title_short),1),r("div",U,a(i.startHour)+":"+a(("0"+i.startMin).slice(-2))+" 〜 "+a(i.endHour)+":"+a(("0"+i.endMin).slice(-2)),1)],12,Q))),128))]))),128))])]),h.value?(n(),z(P,{key:0,schedule:h.value,onClose:o[0]||(o[0]=c=>h.value=null)},null,8,["schedule"])):_("",!0)]))}}),Y={class:"container mx-auto px-4 py-6"},nt=g({__name:"schedule",setup(d){return C({title:"タイムスケジュール",meta:[{name:"description",content:"東京大学の学園祭「五月祭」の特設ページです！"},{property:"og:description",content:"東京大学の学園祭「五月祭」の特設ページです！"},{property:"og:url",content:"https://ut-cast.net/mayfes2025/schedule"}]}),(e,l)=>(n(),s("div",Y,[l[0]||(l[0]=r("h1",{class:"text-3xl font-bold text-center mb-4"},"タイムスケジュール",-1)),b(X)]))}});export{nt as default};
