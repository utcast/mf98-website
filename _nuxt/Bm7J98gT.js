import{_ as b}from"./BrM1dH06.js";import{j as K,i as $,S as f,R as N,c as n,k,o as i,a as s,b as h,n as x,t as d,e as _,f as R,T as V,F as v,r as y,y as D,z as w}from"./B-8mnVSS.js";import{u as j}from"./CdRNCsmv.js";const q=()=>({getKikaku:o=>A[o]||null}),A={kaiten:{title:"[回転](かいてん)ショー",description:"[身近](みぢか)な「[回転](かいてん)」に[隠](かく)された[不思議](ふしぎ)を[解](と)き[明](あ)かす！",color:"youtube",channel:"show",url:{name:"kaiten"},image:"/img/thumbnail/kaiten.png",title_short:"[回転](かいてん)ショー"},hikari:{title:"[光](ひかり)の[箱](はこ)",description:"[光](ひかり)にかざすとキラキラ[光](ひか)る！？カラフルに[光](ひか)る[箱](はこ)を[作](つく)って[反射](はんしゃ)の[仕組](しく)みについて[知](し)ろう！",color:"zoom",channel:"atelier",url:{name:"hikari"},image:"/img/thumbnail/hikari.png",title_short:"[光](ひかり)の[箱](はこ)"},san_gen:{title:"[三原色](さんげんしょく)コップ",description:"[手元](てもと)で[光](ひかり)を[混](ま)ぜられる！？コップを[作](つく)って[光](ひかり)の[三原色](さんげんしょく)について[知](し)ろう！",color:"zoom",channel:"atelier",url:{name:"san_gen"},image:"/img/thumbnail/san_gen.png",title_short:"[三原色](さんげんしょく)コップ"},nenriki:{title:"[念力振](ねんりきふ)り[子](こ)",description:"[思](おも)いのままに[揺](ゆ)らせる……？ゆらゆら[揺](ゆ)れる[工作](こうさく)をして[振](ふ)り[子](こ)に[詳](くわ)しくなっちゃおう！",color:"zoom",channel:"atelier",url:{name:"nenriki"},image:"/img/thumbnail/nenriki.png",title_short:"[念力振](ねんりきふ)り[子](こ)"},kimiS:{title:"[君](きみ)も[SC](えすしー)をやってみよう",description:"[一緒](いっしょ)に[実験](じっけん)やってみよう！",color:"zoom",channel:"atelier",url:{name:"kimiS"},image:"/img/thumbnail/kimiS.png",title_short:"[君](きみ)[S](えす)"}},U=$([]),B=()=>{const c=async()=>{try{const e=await fetch("https://script.google.com/macros/s/AKfycby5suexYWHerSXvPKLqzaUEkquTrOPP716e_1DTq3V84YxSMwq3xtW5lZ_oYiOXkwZY/exec");U.value=await e.json()}catch(e){console.error("チケットデータの取得に失敗しました:",e)}},o=e=>U.value.find(l=>l.id===e)||{reserved:0,limit:0};return K(()=>{c()}),{fetchTickets:c,getTicketStatus:o}},O=[{id:0,channel:"atelier",day:1,kikaku:"nenriki",startHour:9,startMin:30,endHour:10,endMin:0,ticketDistHour:9,ticketDistMin:10,lineUpHour:9,lineUpMin:0},{id:1,channel:"atelier",day:1,kikaku:"nenriki",startHour:10,startMin:30,endHour:11,endMin:0,ticketDistHour:9,ticketDistMin:10,lineUpHour:9,lineUpMin:0},{id:2,channel:"atelier",day:1,kikaku:"nenriki",startHour:11,startMin:30,endHour:12,endMin:0,ticketDistHour:9,ticketDistMin:45,lineUpHour:9,lineUpMin:25},{id:3,channel:"atelier",day:1,kikaku:"san_gen",startHour:12,startMin:30,endHour:13,endMin:0,ticketDistHour:10,ticketDistMin:45,lineUpHour:10,lineUpMin:25},{id:4,channel:"atelier",day:1,kikaku:"san_gen",startHour:13,startMin:30,endHour:14,endMin:0,ticketDistHour:11,ticketDistMin:45,lineUpHour:11,lineUpMin:25},{id:5,channel:"atelier",day:1,kikaku:"hikari",startHour:14,startMin:30,endHour:15,endMin:0,ticketDistHour:12,ticketDistMin:45,lineUpHour:12,lineUpMin:25},{id:6,channel:"atelier",day:1,kikaku:"hikari",startHour:15,startMin:30,endHour:16,endMin:0,ticketDistHour:13,ticketDistMin:45,lineUpHour:13,lineUpMin:25},{id:7,channel:"atelier",day:1,kikaku:"hikari",startHour:16,startMin:30,endHour:17,endMin:0,ticketDistHour:14,ticketDistMin:45,lineUpHour:14,lineUpMin:25},{id:8,channel:"atelier",day:2,kikaku:"nenriki",startHour:9,startMin:30,endHour:10,endMin:0,ticketDistHour:9,"ticketDistMin ":10,"lineUpHour ":9,"lineUpMin ":0},{id:9,channel:"atelier",day:2,kikaku:"nenriki",startHour:10,startMin:30,endHour:11,endMin:0,"ticketDistHour ":9,"ticketDistMin ":10,"lineUpHour ":9,"lineUpMin ":0},{id:10,channel:"atelier",day:2,kikaku:"nenriki",startHour:11,startMin:30,endHour:12,endMin:0,"ticketDistHour ":9,"ticketDistMin ":45,"lineUpHour ":9,"lineUpMin ":25},{id:11,channel:"atelier",day:2,kikaku:"san_gen",startHour:12,startMin:30,endHour:13,endMin:0,"ticketDistHour ":10,"ticketDistMin ":45,"lineUpHour ":10,"lineUpMin ":25},{id:12,channel:"atelier",day:2,kikaku:"san_gen",startHour:13,startMin:30,endHour:14,endMin:0,"ticketDistHour ":11,"ticketDistMin ":45,"lineUpHour ":11,"lineUpMin ":25},{id:13,channel:"atelier",day:2,kikaku:"hikari",startHour:14,startMin:30,endHour:15,endMin:0,"ticketDistHour ":12,"ticketDistMin ":45,"lineUpHour ":12,"lineUpMin ":25},{id:14,channel:"atelier",day:2,kikaku:"hikari",startHour:15,startMin:30,endHour:16,endMin:0,"ticketDistHour ":13,"ticketDistMin ":45,"lineUpHour ":13,"lineUpMin ":25},{id:15,channel:"atelier",day:2,kikaku:"hikari",startHour:16,startMin:30,endHour:17,endMin:0,"ticketDistHour ":14,"ticketDistMin ":45,"lineUpHour ":14,"lineUpMin ":25},{id:16,channel:"show",day:1,kikaku:"kaiten",startHour:10,startMin:15,endHour:10,endMin:55},{id:17,channel:"show",day:1,kikaku:"kimiS",startHour:11,startMin:15,endHour:11,endMin:55},{id:18,channel:"show",day:1,kikaku:"kaiten",startHour:12,startMin:15,endHour:12,endMin:55},{id:19,channel:"show",day:1,kikaku:"kimiS",startHour:14,startMin:15,endHour:14,endMin:55},{id:20,channel:"show",day:1,kikaku:"kaiten",startHour:15,startMin:15,endHour:15,endMin:55},{id:21,channel:"show",day:1,kikaku:"kaiten",startHour:16,startMin:15,endHour:16,endMin:55},{id:22,channel:"show",day:1,kikaku:"kaiten",startHour:13,startMin:15,endHour:13,endMin:55},{id:23,channel:"show",day:1,kikaku:"kaiten",startHour:17,startMin:15,endHour:17,endMin:55},{id:24,channel:"show",day:2,kikaku:"kaiten",startHour:10,startMin:15,endHour:10,endMin:55},{id:25,channel:"show",day:2,kikaku:"kimiS",startHour:11,startMin:15,endHour:11,endMin:55},{id:26,channel:"show",day:2,kikaku:"kaiten",startHour:12,startMin:15,endHour:12,endMin:55},{id:27,channel:"show",day:2,kikaku:"kimiS",startHour:14,startMin:15,endHour:14,endMin:55},{id:28,channel:"show",day:2,kikaku:"kaiten",startHour:15,startMin:15,endHour:15,endMin:55},{id:29,channel:"show",day:2,kikaku:"kaiten",startHour:16,startMin:15,endHour:16,endMin:55},{id:30,channel:"show",day:2,kikaku:"kaiten",startHour:13,startMin:15,endHour:13,endMin:55},{id:31,channel:"show",day:2,kikaku:"kaiten",startHour:17,startMin:15,endHour:17,endMin:55}],P={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},Y={class:"bg-white p-4 rounded w-96 relative"},E={class:"text-center mb-4"},W={key:0,class:"text-sm text-center text-gray-600 mb-2"},F={key:0},L={key:1},X=f({__name:"ScheduleModal",props:{schedule:{}},setup(c){function o(e,l){const u=String(e).padStart(2,"0"),M=String(l).padStart(2,"0");return`${u}:${M}`}return(e,l)=>{const u=N("Icon");return e.schedule.kikakuInfo?(i(),n("div",P,[s("div",Y,[s("button",{class:"absolute top-2 right-2 text-red-500",onClick:l[0]||(l[0]=M=>e.$emit("close"))},"✕"),s("div",E,[h(u,{icon:e.schedule.kikakuInfo.icon,class:"text-3xl mb-2"},null,8,["icon"]),s("h3",{class:x(["text-lg font-bold",{"line-through text-gray-500":e.schedule.channel==="atelier"&&e.schedule.ticketStatus.reserved===0}])},[h(b,{v:e.schedule.kikakuInfo.title},null,8,["v"])],2),s("p",{class:x(["text-sm",{"line-through text-gray-500":e.schedule.channel==="atelier"&&e.schedule.ticketStatus.reserved===0,"text-gray-600":!(e.schedule.channel==="atelier"&&e.schedule.ticketStatus.reserved===0)}])},[h(b,{v:e.schedule.kikakuInfo.description},null,8,["v"])],2)]),e.schedule.channel==="atelier"?(i(),n("div",W,[e.schedule.ticketDistHour!==void 0&&e.schedule.ticketDistMin!==void 0?(i(),n("div",F," 整理券配布開始: "+d(o(e.schedule.ticketDistHour,e.schedule.ticketDistMin)),1)):k("",!0),e.schedule.lineUpHour!==void 0&&e.schedule.lineUpMin!==void 0?(i(),n("div",L," 整列可能: "+d(o(e.schedule.lineUpHour,e.schedule.lineUpMin)),1)):k("",!0)])):k("",!0),e.schedule.channel==="atelier"?(i(),n("div",{key:1,class:x(["text-sm font-bold text-center",{"line-through text-gray-500":e.schedule.ticketStatus.reserved===0,"text-red-500":e.schedule.ticketStatus.reserved>=1&&e.schedule.ticketStatus.reserved<=5,"text-gray-800":e.schedule.ticketStatus.reserved>5}])},[h(b,{v:`整理券残り: ${e.schedule.ticketStatus.reserved}/${e.schedule.ticketStatus.limit}枚`},null,8,["v"])],2)):k("",!0)])])):k("",!0)}}}),Z={class:"overflow-x-auto"},G={class:"min-w-[800px] overflow-y-auto border",style:{height:"800px"}},J={class:"grid",style:"grid-template-columns: 80px repeat(4, 1fr)"},Q={class:"relative"},ee={class:"absolute top-0 text-xs text-right pr-2",style:{top:"-6px"}},te=["onClick"],ie={class:"font-bold text-[9px]"},ne={class:"text-[8px]"},g=8,S=15,re=18,ae=f({__name:"ScheduleTable",setup(c){const{getKikaku:o}=q(),{getTicketStatus:e}=B(),l=Array.from({length:re-g+1},(t,r)=>r+g),u=_(()=>O.map(t=>{const r=o(t.kikaku);return r?{...t,kikakuInfo:r,ticketStatus:e(t.id)}:null}).filter(t=>t!==null)),M=_(()=>[u.value.filter(t=>t.day===1&&t.channel==="show"),u.value.filter(t=>t.day===1&&t.channel==="atelier"),u.value.filter(t=>t.day===2&&t.channel==="show"),u.value.filter(t=>t.day===2&&t.channel==="atelier")]),T=t=>{const r=t.startHour*60+t.startMin,m=g*60+S;return r-m},z=t=>{const r=t.startHour*60+t.startMin;return t.endHour*60+t.endMin-r},H=$(null),I=t=>{H.value=t};return(t,r)=>{const m=b;return i(),n("div",Z,[s("div",G,[r[1]||(r[1]=V('<div class="grid" style="grid-template-columns: 80px repeat(4, 1fr)"><div class="border-b border-r row-span-2 flex items-center justify-center text-xs font-bold"> 時間 </div><div class="col-span-2 border-b border-r text-center text-xs font-bold bg-blue-500 text-white"> 1日目 </div><div class="col-span-2 border-b text-center text-xs font-bold bg-blue-500 text-white"> 2日目 </div><div class="border-r text-center text-xs bg-blue-500 text-white">ショー</div><div class="border-r text-center text-xs bg-blue-500 text-white">アトリエ</div><div class="border-r text-center text-xs bg-blue-500 text-white">ショー</div><div class="text-center text-xs bg-blue-500 text-white">アトリエ</div></div>',1)),s("div",J,[s("div",Q,[(i(!0),n(v,null,y(D(l),p=>(i(),n("div",{key:p,class:"h-[60px] relative"},[s("div",ee,d(p)+":00 ",1)]))),128))]),(i(!0),n(v,null,y(M.value,(p,C)=>(i(),n("div",{key:C,class:"relative border-l border-gray-300 bg-white"},[(i(!0),n(v,null,y(D(l),a=>(i(),n("div",{key:a,class:"absolute w-full border-t border-dotted border-gray-400 z-0",style:w(`top: ${a*60-g*60-S}px`)},null,4))),128)),(i(!0),n(v,null,y(p,a=>(i(),n("div",{key:a.id,class:"absolute z-10 bg-blue-500 text-white text-[10px] rounded p-1 shadow hover:bg-blue-600 cursor-pointer",style:w(`top: ${T(a)}px; height: ${z(a)}px; left: 4px; right: 4px;`),onClick:oe=>I(a)},[s("div",ie,[h(m,{v:a.kikakuInfo.title_short},null,8,["v"])]),s("div",ne,d(a.startHour)+":"+d(("0"+a.startMin).slice(-2))+" 〜 "+d(a.endHour)+":"+d(("0"+a.endMin).slice(-2)),1)],12,te))),128))]))),128))])]),H.value?(i(),R(X,{key:0,schedule:H.value,onClose:r[0]||(r[0]=p=>H.value=null)},null,8,["schedule"])):k("",!0)])}}}),se={class:"container mx-auto px-4 py-6"},ce=f({__name:"schedule",setup(c){return j({title:"タイムスケジュール",meta:[{name:"description",content:"東京大学の学園祭「五月祭」の特設ページです！"},{property:"og:description",content:"東京大学の学園祭「五月祭」の特設ページです！"},{property:"og:url",content:"https://ut-cast.net/mayfes2025/schedule"}]}),(o,e)=>(i(),n("div",se,[e[0]||(e[0]=s("h1",{class:"text-3xl font-bold text-center mb-4"},"タイムスケジュール",-1)),h(ae)]))}});export{ce as default};
